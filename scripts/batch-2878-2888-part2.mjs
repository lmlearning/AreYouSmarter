#!/usr/bin/env node
import { readFile, writeFile } from 'fs/promises';

const newExplanations = [
  {
    "questionId": "high_school_biology_54",
    "explanation": "DNA quantity doubles during **S phase** (Synthesis phase) of the cell cycle.\n\n**Cell cycle phases:**\n\n**Interphase (90% of cycle):**\n- **G₁ phase**: Gap 1, cell growth, normal functions\n- **S phase**: DNA Synthesis - **DNA REPLICATION** ✓\n- **G₂ phase**: Gap 2, preparation for mitosis\n\n**M phase (10% of cycle):**\n- **Mitosis**: Nuclear division\n- **Cytokinesis**: Cytoplasmic division\n\n**Option 3 is CORRECT: S phase** ✓\n\n**S phase (DNA Synthesis):**\n\n**What happens:**\n- **DNA replication**\n- Each chromosome duplicated\n- 2n → 2n (still diploid)\n- BUT DNA amount: 2C → 4C\n- Sister chromatids form\n\n**Duration:**\n- 6-8 hours (varies by cell type)\n- Longest part of interphase\n- Highly regulated\n\n**Before S:**\n- 2n chromosomes\n- 2C DNA content\n- Single chromatid per chromosome\n\n**After S:**\n- 2n chromosomes (still)\n- 4C DNA content (**DOUBLED**)\n- Two sister chromatids per chromosome\n\n**Why other options are WRONG:**\n\n**Option 0: G₁ phase**\n- **NO DNA replication**\n- Cell growth\n- Enzyme/organelle production\n- Normal metabolism\n- DNA content: 2C (unchanged)\n- **G₁ checkpoint**: Decide whether to divide\n\n**Option 1: G₂ phase**\n- **AFTER DNA replication**\n- DNA already doubled (in S)\n- G₂ prepares for mitosis\n- Protein synthesis\n- Centrosome duplication complete\n- DNA content: 4C (stays at 4C)\n- **G₂ checkpoint**: Check DNA integrity\n\n**Option 2: M phase (Mitosis)**\n- **DNA separation**, not synthesis\n- Sister chromatids separate\n- DNA amount per cell DECREASES (4C → 2C)\n- Each daughter cell gets 2C\n- NO DNA replication during mitosis\n\n**DNA content through cell cycle:**\n\n**Timeline:**\n1. **G₁**: 2C (diploid, unreplicated)\n2. **S**: 2C → 4C (**DOUBLING occurs**) ✓\n3. **G₂**: 4C (diploid, replicated)\n4. **M (Prophase-Metaphase)**: 4C\n5. **M (Anaphase-Telophase)**: 4C → 2C (separating)\n6. **After cytokinesis**: 2C (two cells)\n\n**Chromosome number vs. DNA content:**\n\n**Important distinction:**\n- **Chromosome number (n)**: Doesn't change in interphase\n- **DNA content (C)**: Doubles in S phase\n\n**Human example:**\n- Before S: 46 chromosomes, 2C DNA\n- After S: 46 chromosomes (but 92 chromatids), 4C DNA\n- After M: 46 chromosomes, 2C DNA (in each daughter)\n\n**Chromatids vs. Chromosomes:**\n\n**Unreplicated chromosome:**\n- Single DNA molecule\n- One chromatid\n- G₁ state\n\n**Replicated chromosome:**\n- Two identical DNA molecules\n- Two sister chromatids\n- Joined at centromere\n- S/G₂/early M state\n\n**After anaphase:**\n- Sister chromatids separate\n- Each becomes individual chromosome\n- Daughter cells each get one set\n\n**Why S phase for replication?**\n\n**Advantages:**\n- **Separated from mitosis**\n- Time to check for errors\n- G₂ checkpoint before commitment\n- Orderly progression\n\n**Regulation:**\n- Cyclins and CDKs\n- Rb protein (retinoblastoma)\n- p53 (tumor suppressor)\n- Checkpoints prevent errors\n\n**DNA replication process (in S):**\n\n**Steps:**\n1. **Origin recognition**: ORC binds origins\n2. **Helicase loads**: Unwinds DNA\n3. **Primase**: RNA primers\n4. **DNA polymerase**: Synthesizes new strands\n5. **Ligation**: Joins Okazaki fragments\n6. **Chromatin assembly**: Histones added\n\n**Semi-conservative:**\n- Each new DNA has one old strand, one new\n- Meselson-Stahl experiment proved this\n\n**S phase checkpoints:**\n\n**Intra-S checkpoint:**\n- Monitors replication progress\n- Detects DNA damage\n- Stalls if problems\n- Prevents progression to G₂\n\n**ATR/ATM pathways:**\n- Kinases detect replication stress\n- Activate p53\n- Cell cycle arrest or apoptosis\n\n**Clinical significance:**\n\n**Cancer:**\n- Uncontrolled cell cycle\n- Often S phase dysregulation\n- p53 mutations (50% of cancers)\n- Checkpoint failures\n\n**Chemotherapy:**\n- Many drugs target S phase\n- 5-FU, methotrexate (nucleotide synthesis)\n- Hydroxyurea (ribonucleotide reductase)\n- Kill dividing cells\n\n**Cell cycle variations:**\n\n**Different cell types:**\n- **Rapidly dividing** (intestinal crypts): Short G₁\n- **Slow dividing** (hepatocytes): Long G₁ or G₀\n- **Non-dividing** (neurons): Permanent G₀, no S phase\n\n**Embryonic cells:**\n- Rapid cycles\n- Short/absent G₁ and G₂\n- Mostly S and M\n- Cleavage divisions\n\n**Summary:**\n- **G₁**: Growth (2C)\n- **S**: DNA synthesis (2C → 4C) ✓\n- **G₂**: Preparation (4C)\n- **M**: Division (4C → 2C × 2)\n\nS phase is when DNA replication occurs, doubling the cell's DNA content from 2C to 4C.",
    "reasoning": "Cell cycle: G₁ (growth) → S (DNA synthesis) → G₂ (prep) → M (mitosis). DNA doubles during SYNTHESIS (S phase). G₁: no replication (2C). S: replication (2C → 4C). G₂: already doubled (4C). M: separation (4C → 2C per daughter). Answer: option 3 (S phase).",
    "steps": [
      "DNA replication = DNA synthesis",
      "S phase = Synthesis phase",
      "S phase: DNA doubles (2C → 4C)",
      "G₁: before replication",
      "G₂: after replication",
      "M: separation, not synthesis",
      "Answer: option 3 ✓ (S phase)"
    ],
    "generatedAt": "2025-01-14T17:40:00.000Z",
    "correctedAnswer": 3
  },
  {
    "questionId": "high_school_biology_55",
    "explanation": "Two trees of the same species competing for resources is **intraspecific competition**.\n\n**Types of competition:**\n\n**Intraspecific competition:**\n- **SAME species** competing\n- Competition WITHIN species\n- \"Intra\" = within\n- **THIS IS THE ANSWER** ✓\n\n**Interspecific competition:**\n- **DIFFERENT species** competing\n- Competition BETWEEN species\n- \"Inter\" = between\n\n**Option 3 is CORRECT: Intraspecific competition** ✓\n\n**Why intraspecific:**\n- \"Two trees of the **SAME species**\"\n- Both need same resources\n- Same niche requirements\n- Compete for light, water, nutrients, space\n\n**Why other options are WRONG:**\n\n**Option 0: Parasitism**\n- One organism feeds ON another\n- Benefits one, harms other (+/-)\n- Example: Tick on deer, tapeworm\n- Trees aren't feeding on each other\n- Both are producers (photosynthesize)\n\n**Option 1: Commensalism**\n- One benefits, other unaffected (+/0)\n- Example: Barnacles on whale, epiphytes on trees\n- Question states both USE resources\n- Both affected, not one-sided\n\n**Option 2: Natural selection**\n- **PROCESS**, not a relationship type\n- Natural selection acts ON competition\n- Competition is mechanism FOR selection\n- But not the relationship itself\n- Wrong category of answer\n\n**Intraspecific competition details:**\n\n**Characteristics:**\n- **Strongest type of competition**\n- Same species = identical needs\n- Same food, same habitat, same everything\n- Direct competition\n\n**Mechanisms:**\n- **Exploitation**: Consume shared resource\n- **Interference**: Actively prevent access\n- **Chemical**: Allelopathy (release inhibitors)\n\n**Tree example:**\n\n**Resources competed for:**\n- **Light**: Canopy shading\n- **Water**: Root systems overlap\n- **Nutrients**: Nitrogen, phosphorus from soil\n- **Space**: Root and canopy room\n\n**Effects:**\n- **Density-dependent**: More trees = stronger competition\n- **Self-thinning**: Weaker trees die\n- **Reduced growth**: Limited resources per individual\n- **Lower reproduction**: Less energy for seeds\n\n**Outcomes:**\n\n**Winner:**\n- Faster growth\n- Better access to light (taller)\n- Deeper/wider roots\n- More offspring\n\n**Loser:**\n- Stunted growth\n- Shaded out\n- Dies or reproduces less\n- **Natural selection occurs**\n\n**Examples of intraspecific competition:**\n\n**Plants:**\n- Trees in forest (this question)\n- Grass in lawn\n- Weeds in field\n- Density-dependent growth\n\n**Animals:**\n- Male deer fighting for mates\n- Birds competing for nesting sites\n- Lions competing for territory\n- Fish competing for spawning grounds\n\n**Humans:**\n- Job competition\n- Resource competition\n- Territory (historically)\n\n**Interspecific vs. Intraspecific:**\n\n**Interspecific (different species):**\n- Example: Oak tree vs. maple tree\n- Less intense (different niches)\n- **Competitive exclusion** principle\n- One species may outcompete other\n\n**Intraspecific (same species):**\n- Example: Oak tree vs. oak tree ✓\n- Most intense (identical niches)\n- Both survive but population regulated\n- Density-dependent regulation\n\n**Ecological importance:**\n\n**Population regulation:**\n- Intraspecific competition limits population size\n- **Density-dependent factor**\n- Prevents unlimited growth\n- Keeps population near carrying capacity (K)\n\n**Carrying capacity:**\n- K = maximum sustainable population\n- Limited by resources\n- Intraspecific competition intensifies as N → K\n- Logistic growth: dN/dt = rN(K-N)/K\n\n**Natural selection:**\n- Intraspecific competition drives selection\n- Individuals vary in competitive ability\n- Better competitors → more offspring\n- Traits evolve\n\n**Evolutionary consequences:**\n\n**Character displacement:**\n- Within-species variation reduces competition\n- Different sizes use different resources\n- Example: Darwin's finches on same island\n\n**Sexual selection:**\n- Intraspecific competition for mates\n- Males compete for females\n- Peacock tails, deer antlers\n\n**Territoriality:**\n- Evolved to reduce competition\n- Space out individuals\n- Guarantee resources\n\n**Contest vs. Scramble competition:**\n\n**Contest:**\n- Direct interaction\n- Winner gets all\n- Example: Fighting for territory\n- Hierarchies form\n\n**Scramble:**\n- Indirect, exploit resources\n- All get some, none get enough\n- Example: Trees competing for light\n- This question likely scramble\n\n**Allelopathy in plants:**\n\n**Chemical competition:**\n- Some plants release chemicals\n- Inhibit nearby plants (same or different species)\n- Example: Black walnut (juglone)\n- Reduces intraspecific competition\n\nSame species competing for the same resources defines intraspecific competition.",
    "reasoning": "Same species competing = INTRA-specific (within species). Different species = INTER-specific (between species). Trees same species, compete for light/water/nutrients = intraspecific. Not parasitism (no feeding on each other). Not commensalism (both affected). Not natural selection (that's a process, not relationship). Answer: option 3 (intraspecific competition).",
    "steps": [
      "Same species mentioned",
      "Competing for resources",
      "Intra = within",
      "Intraspecific = within species",
      "Same species competition",
      "Answer: option 3 ✓ (intraspecific)"
    ],
    "generatedAt": "2025-01-14T17:41:00.000Z",
    "correctedAnswer": 3
  },
  {
    "questionId": "high_school_biology_56",
    "explanation": "A short sequence near the promoter that assists transcription by interacting with regulatory proteins is an **operator**.\n\n**Gene regulation elements:**\n\n**Promoter:**\n- Where RNA polymerase binds\n- Transcription start site nearby\n- TATA box (eukaryotes), -10/-35 boxes (prokaryotes)\n- Always required for transcription\n\n**Operator:**\n- **Regulatory sequence near promoter**\n- Binds repressor or activator proteins\n- **Controls access to promoter**\n- Can turn gene on/off\n- **THIS IS THE ANSWER** ✓\n\n**Enhancer:**\n- Regulatory sequence FAR from promoter\n- Can be thousands of base pairs away\n- Increases transcription\n- Binds activator proteins\n\n**Repressor:**\n- **PROTEIN**, not DNA sequence\n- Binds to operator\n- Blocks transcription\n\n**Option 2 is CORRECT: Operator** ✓\n\n**Why operator fits description:**\n- \"Short sequence\" ✓ (~20-30 bp)\n- \"By promoter\" ✓ (adjacent or overlapping)\n- \"Assists transcription\" ✓ (regulates it)\n- \"Interacting with regulatory proteins\" ✓ (repressors, activators)\n\n**Why other options are WRONG:**\n\n**Option 0: Enhancer**\n- **FAR from promoter**, not near\n- Can be kilobases away\n- Upstream or downstream\n- Question says \"by promoter\" (close)\n- Enhancers are distant\n\n**Option 1: Repressor**\n- **PROTEIN**, not DNA sequence\n- Question asks for \"sequence\"\n- Repressor BINDS TO operator\n- Not the sequence itself\n\n**Option 3: Promoter**\n- **Not regulatory** (always needed)\n- Basal transcription machinery binds here\n- Doesn't \"assist\" - it's the main site\n- Question describes regulatory element\n\n**Operator details:**\n\n**Classic example: lac operon:**\n\n**Structure:**\n- Promoter (P)\n- **Operator (O)** - regulatory sequence\n- Structural genes (lacZ, lacY, lacA)\n\n**Function:**\n- **No lactose**: Repressor binds operator → blocks transcription\n- **Lactose present**: Lactose binds repressor → repressor releases → transcription proceeds\n\n**Location:**\n- Immediately downstream of promoter\n- Overlaps with promoter slightly\n- ~21 bp in lac operon\n\n**Mechanism:**\n- **Negative regulation**: Repressor blocks\n- **Positive regulation**: Activator helps (CAP-cAMP)\n\n**Other examples:**\n\n**trp operon:**\n- Operator controls tryptophan synthesis genes\n- Repressor (with tryptophan) binds operator\n- Negative feedback\n\n**Lambda phage:**\n- Multiple operators (OL, OR)\n- Control lytic vs. lysogenic pathway\n- Complex regulation\n\n**Eukaryotic equivalent:**\n\nEukaryotes don't have classic operators, but have:\n- **Proximal promoter elements**: CAAT box, GC box\n- **Response elements**: Near promoter\n- Similar function (regulate transcription)\n- But more complex regulation\n\n**Comparison table:**\n\n| Element | Location | Function | Type |\n|---------|----------|----------|------|\n| **Promoter** | Start site | RNA pol binding | DNA |\n| **Operator** | Near promoter | Regulation | DNA ✓ |\n| **Enhancer** | Far (kb away) | Boost transcription | DNA |\n| **Repressor** | Binds operator | Block transcription | Protein |\n| **Activator** | Binds enhancer/operator | Increase transcription | Protein |\n\n**Transcription regulation:**\n\n**Prokaryotes (simple):**\n- Operator-repressor system\n- Operons (multiple genes together)\n- Rapid response\n\n**Eukaryotes (complex):**\n- Multiple regulatory elements\n- Chromatin remodeling\n- Enhancers, silencers\n- Transcription factors\n\n**Why regulation matters:**\n\n**Efficiency:**\n- Don't make proteins when not needed\n- Save energy, resources\n\n**Response:**\n- Adapt to environment\n- Lactose present → make lac enzymes\n- Tryptophan absent → make trp enzymes\n\n**Development:**\n- Different cells, different genes\n- Spatial and temporal control\n- Homeotic genes\n\n**Operator mutations:**\n\n**Oc (constitutive):**\n- Operator can't bind repressor\n- Always ON\n- Wastes energy\n\n**Tight:**\n- Binds repressor more strongly\n- Harder to induce\n- Less expression\n\n**Historical importance:**\n\n**Jacob and Monod (1961):**\n- Discovered lac operon\n- Operator concept\n- Nobel Prize 1965\n- Foundation of gene regulation\n\nThe operator is the DNA sequence near the promoter that regulatory proteins bind to control transcription.",
    "reasoning": "Question: short sequence by promoter, interacts with regulatory proteins. Operator = DNA sequence near promoter, binds repressor/activator proteins, regulates transcription ✓. Enhancer = FAR from promoter (wrong location). Repressor = PROTEIN (not sequence). Promoter = main binding site (not regulatory). Answer: option 2 (operator).",
    "steps": [
      "Sequence by promoter",
      "Assists/regulates transcription",
      "Binds regulatory proteins",
      "Operator definition matches",
      "Near promoter, regulatory",
      "Answer: option 2 ✓ (operator)"
    ],
    "generatedAt": "2025-01-14T17:42:00.000Z",
    "correctedAnswer": 2
  },
  {
    "questionId": "high_school_biology_57",
    "explanation": "Catastrophism, with its idea of sudden geological disturbances, is contrasted with **uniformitarianism** - the principle that geological processes are gradual and ongoing.\n\n**Catastrophism:**\n- Earth shaped by sudden, violent events\n- Catastrophes (floods, earthquakes, volcanoes)\n- Short time scale\n- **Georges Cuvier** (early 1800s)\n- Used to explain fossils and geological layers\n\n**Uniformitarianism:**\n- **\"The present is the key to the past\"**\n- Gradual, steady geological processes\n- Same processes operating now as in past\n- Long time scale (millions of years)\n- **James Hutton** (1785), **Charles Lyell** (1830s)\n- Influenced Darwin\n\n**Option 2 is CORRECT: Uniformitarianism** ✓\n\n**Relationship:**\n- **Contrasting theories** of Earth's history\n- Debate in 18th-19th centuries\n- Catastrophism: Sudden, dramatic\n- Uniformitarianism: Slow, gradual\n- **Opposite approaches**\n\n**Why other options are WRONG:**\n\n**Option 0: Evolution**\n- **NOT directly contrasted**\n- Catastrophism used to EXPLAIN extinctions\n- But not opposite of evolution\n- Evolution = change in species\n- Catastrophism = geological theory\n- Different domains\n\n**Option 1: Fossil record**\n- Catastrophism tried to EXPLAIN fossils\n- Not contrasted with fossils\n- Used fossils as evidence\n- Fossils = data, catastrophism = explanation\n\n**Option 3: Origin of new species**\n- Catastrophism actually used for this\n- Cuvier: Catastrophes → extinctions → new creations\n- Not opposite\n- Complementary in Cuvier's view\n\n**Uniformitarianism details:**\n\n**Principles:**\n\n**1. Uniformity of law:**\n- Physical laws constant over time\n- Gravity, erosion, deposition same\n\n**2. Uniformity of process:**\n- Same processes operate today as past\n- Rivers erode, volcanoes erupt, sediments deposit\n\n**3. Uniformity of rate (debated):**\n- Lyell: Constant, gradual rates\n- **Modern view**: Rates vary but processes same\n\n**4. Uniformity of state:**\n- Earth's conditions relatively constant\n- **Disproven** (Earth has changed)\n\n**James Hutton (1726-1797):**\n- \"Father of modern geology\"\n- Observed slow erosion, rock formation\n- Realized Earth must be ancient\n- \"Theory of the Earth\" (1788)\n- \"No vestige of a beginning, no prospect of an end\"\n\n**Charles Lyell (1797-1875):**\n- \"Principles of Geology\" (1830-1833)\n- Expanded uniformitarianism\n- **Darwin read on HMS Beagle**\n- Influenced evolutionary thinking\n\n**Impact on Darwin:**\n\n**How uniformitarianism helped evolution:**\n- **Deep time**: Earth millions of years old\n- **Gradual change**: Enough time for evolution\n- **Ongoing processes**: Species can gradually change\n- Darwin applied to biology: Gradual evolution\n\n**Without deep time:**\n- Earth only 6,000 years old (biblical)\n- Not enough time for evolution\n- Species fixed since creation\n\n**With deep time:**\n- Millions of years available\n- Small changes accumulate\n- Evolution plausible\n\n**Catastrophism vs. Uniformitarianism:**\n\n**Catastrophism:**\n- Sudden events\n- Short time scale\n- Biblical flood\n- Explains strata as flood layers\n- Fossils from drowned organisms\n\n**Uniformitarianism:**\n- Gradual processes\n- Long time scale (deep time)\n- Erosion, deposition over millions of years\n- Strata from slow accumulation\n- Fossils from organisms over time\n\n**Modern synthesis:**\n\n**Neo-catastrophism:**\n- Recognize BOTH gradual and catastrophic\n- Most change gradual\n- But catastrophes do occur:\n  - Asteroid impacts (K-T extinction)\n  - Supervolcanoes\n  - Ice ages\n- **\"Punctuated equilibrium\"** in evolution\n\n**Current view:**\n- Uniformitarianism MOSTLY correct\n- Same processes, variable rates\n- Catastrophes happen but rare\n- Both gradualism and catastrophes shape Earth\n\n**Examples:**\n\n**Uniformitarian processes:**\n- River erosion → Grand Canyon (millions of years)\n- Sediment deposition → rock layers\n- Plate tectonics → mountain building\n- Weathering → soil formation\n\n**Catastrophic events:**\n- Asteroid impact → Chicxulub crater, dinosaur extinction\n- Massive volcanic eruptions → Siberian Traps\n- Megafloods → Channeled Scablands\n- But RARE, not the norm\n\n**Geologic time scale:**\n- Developed using uniformitarian principles\n- Relative dating from strata\n- Radiometric dating confirms ages\n- Earth ~4.6 billion years old\n\n**Why this matters:**\n\n**Science:**\n- Established geology as science\n- Testable, observable processes\n- Foundation for modern Earth sciences\n\n**Evolution:**\n- Provided time scale for evolution\n- Inspired Darwin's gradualism\n- \"Origin of Species\" analogous to geological change\n\n**Philosophy:**\n- Naturalistic explanations\n- Don't invoke supernatural catastrophes\n- Use observable processes\n\nUniformitarianism, emphasizing gradual processes over deep time, directly contrasts with catastrophism's sudden violent events.",
    "reasoning": "Catastrophism = sudden violent geological events. Uniformitarianism = gradual, steady processes. These are OPPOSITE geological theories. Not evolution (different domain). Not fossil record (catastrophism explains fossils). Not origin of species (catastrophism used for that). Answer: option 2 (uniformitarianism).",
    "steps": [
      "Catastrophism = sudden events",
      "Uniformitarianism = gradual processes",
      "Opposite geological theories",
      "18th-19th century debate",
      "Contrasting views of Earth's history",
      "Answer: option 2 ✓ (uniformitarianism)"
    ],
    "generatedAt": "2025-01-14T17:43:00.000Z",
    "correctedAnswer": 2
  },
  {
    "questionId": "high_school_biology_58",
    "explanation": "Hydrangea flower color changing with soil pH demonstrates that **the environment alters the expression of a trait**.\n\n**Hydrangea flower color:**\n\n**Observation:**\n- Same genetic variety\n- **Acidic soil (pH < 6)**: Blue flowers\n- **Alkaline soil (pH > 7)**: Pink flowers\n- **Neutral soil**: Purple/mixed\n\n**Cause:**\n- Aluminum availability\n- Acidic soil: Aluminum soluble, absorbed\n- Alkaline soil: Aluminum insoluble, not absorbed\n- **Aluminum changes pigment color**\n\n**Mechanism:**\n- Pigment: Delphinidin (anthocyanin)\n- Without aluminum: Pink\n- With aluminum: Forms complex → Blue\n- **Environmental factor affects phenotype**\n\n**Option 2 is CORRECT:**\n\"The environment alters the expression of a trait\" ✓\n- Same genotype\n- Different phenotypes\n- Due to environment (pH/aluminum)\n\n**Why other options are WRONG:**\n\n**Option 0: Incomplete dominance**\n- **WRONG genetic mechanism**\n- Incomplete dominance: RR (red) × WW (white) → RW (pink)\n- Blending of alleles\n- Hydrangea: ONE gene, environment changes expression\n- Not two alleles blending\n\n**Option 1: Codominance**\n- **WRONG genetic mechanism**\n- Codominance: Both alleles expressed\n- Example: AB blood type (both A and B)\n- Hydrangea: Single allele, environment modifies\n- Not two alleles expressed simultaneously\n\n**Option 3: Polygenic inheritance**\n- **WRONG genetic mechanism**\n- Polygenic: Multiple genes control one trait\n- Example: Human height, skin color\n- Hydrangea: ONE gene for color\n- Environment modifies expression\n\n**Genotype vs. Phenotype:**\n\n**Key concept:**\n**Phenotype = Genotype + Environment**\n\n**Hydrangea example:**\n- **Genotype**: Same (one gene for anthocyanin)\n- **Environment**: Different (soil pH)\n- **Phenotype**: Different (blue vs. pink)\n\n**This is:**\n- **Phenotypic plasticity**\n- **Environmental influence on gene expression**\n- **NOT different alleles**\n\n**Other examples of environmental effects:**\n\n**Temperature:**\n- **Himalayan rabbit**: Temperature-sensitive fur\n  - Cold extremities → dark fur\n  - Warm body → white fur\n  - Same genotype, temperature affects pigment\n\n**Nutrition:**\n- **Human height**: Genetic potential + nutrition\n  - Good nutrition → reach genetic potential\n  - Malnutrition → shorter than potential\n\n**Light:**\n- **Plant growth**: Etiolation\n  - Darkness → tall, pale, weak stems\n  - Light → short, green, sturdy\n  - Same genotype\n\n**Altitude:**\n- **Hemoglobin production**\n  - High altitude → more red blood cells\n  - Same genes, environment triggers expression\n\n**Vernalization:**\n- **Flowering**: Some plants need cold period\n  - Without cold → no flowers\n  - With cold → flowering genes activated\n\n**Sun exposure:**\n- **Human skin tanning**\n  - UV triggers melanin production\n  - Genetic potential (skin type)\n  - Environment (sun) activates\n\n**Gene expression regulation:**\n\n**How environment affects genes:**\n\n**1. Transcription factors:**\n- Environmental signals activate/repress\n- Change gene transcription\n\n**2. Epigenetics:**\n- DNA methylation\n- Histone modification\n- Don't change DNA sequence\n- Change which genes expressed\n\n**3. Post-transcriptional:**\n- mRNA stability\n- Translation rates\n- Protein modification\n\n**Hydrangea mechanism (detailed):**\n\n**Acidic soil:**\n1. Low pH → aluminum ions (Al³⁺) soluble\n2. Roots absorb aluminum\n3. Aluminum transported to flowers\n4. Al³⁺ binds to delphinidin pigment\n5. Complex reflects blue light\n6. **Blue flowers**\n\n**Alkaline soil:**\n1. High pH → aluminum precipitates\n2. Not absorbed by roots\n3. No aluminum in flowers\n4. Delphinidin alone reflects pink light\n5. **Pink flowers**\n\n**Gardeners use this:**\n- Add aluminum sulfate → blue flowers\n- Add lime (raises pH) → pink flowers\n- Control phenotype through environment\n\n**Norm of reaction:**\n\n**Concept:**\n- Range of phenotypes from one genotype\n- Across range of environments\n- **Reaction norm graph**: Environment (x) vs. Phenotype (y)\n\n**Hydrangea norm of reaction:**\n- Acidic → Blue\n- Neutral → Purple\n- Alkaline → Pink\n- Continuous spectrum\n\n**Evolutionary significance:**\n\n**Phenotypic plasticity:**\n- Allows adaptation without genetic change\n- Respond to environmental variation\n- Can be adaptive\n\n**But:**\n- Limits determined by genotype\n- Can't produce unlimited phenotypes\n- Genetic variation still important\n\nEnvironmental conditions (soil pH) modify gene expression, producing different phenotypes from identical genotypes.",
    "reasoning": "Same genetic variety → different flower colors. Caused by soil pH (environment), not different alleles. NOT incomplete dominance (no allele blending). NOT codominance (not both alleles expressed). NOT polygenic (one gene, environment modifies). Phenotype = Genotype + Environment. Answer: option 2 (environment alters expression).",
    "steps": [
      "Same genotype (genetic variety)",
      "Different phenotypes (colors)",
      "Soil pH = environment",
      "Environment changes expression",
      "Not genetic mechanisms (incomplete, codominant, polygenic)",
      "Answer: option 2 ✓ (environment)"
    ],
    "generatedAt": "2025-01-14T17:44:00.000Z",
    "correctedAnswer": 2
  }
];

// Read existing explanations
const existing = JSON.parse(await readFile('server/data/ai-explanations.json', 'utf-8'));

// Add new ones
const updated = [...existing, ...newExplanations];

// Write back
await writeFile('server/data/ai-explanations.json', JSON.stringify(updated, null, 2), 'utf-8');

console.log(`Added ${newExplanations.length} new explanations. Total: ${updated.length}`);
console.log(`Progress: ${updated.length}/14042 = ${(updated.length / 14042 * 100).toFixed(2)}%`);
console.log(`Session total so far: ${updated.length - 2825} explanations`);
